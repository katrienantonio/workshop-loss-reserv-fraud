---
output: github_document
---

```{r setup, include = FALSE}
library(knitr)
knitr::opts_chunk$set(
  cache = TRUE,
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  error = FALSE,
  comment = "#>"
)
# use some icons, emojis
library(fontawesome)
library(emo)
```

## Workshop Analytics for Loss Modelling, Reserving and Insurance Fraud, 2020

by Katrien Antonio and Jonas Crevecoeur

Course materials for the online *Loss Modelling, Reserving and Insurance Fraud* course in November 2020.

`r emo::ji("calendar")` November 25, 26 and 27, 2020
<br>
`r emo::ji("clock")` From 9.30 am to 12.30 pm
<br>
`r emo::ji("location")` online

Course materials will be posted in the days before the workshop. 

## Overview

<p text-align="justify"> This three-half-day workshop introduces the *essential concepts of building insurance loss models with R*. On the first half-day, you will gain insights in the foundations of handling loss data, including useful *data wrangling and visualization steps*. You will cover a variety of *discrete and continuous loss distributions*, and techniques to build more flexible distributions from standard distributions (by mixing and splicing). You will learn how to fit these models to actual data and inspect their goodness-of-fit. Then, you will use the fitted model to estimate risk measures. The second half-day then puts focus on reserving analytics. Starting from a granular data set with the development of individual claims, you will learn how to get useful insights from the data. Step-by-step you will move from the granular data to aggregated data in a run-off triangle. You will fit the famous chain ladder method and examing its validity on the given data. Alternative modelling strategies based on recent research will be discussed. The third half-day then covers challenges in building fraud detection models from tabular and networked data. 
You will acquire insights in the foundations of these analytic methods, learn how to set-up the model building process, and focus on building a good understanding of the resulting model output and predictions.</p> 

<p align="justify">Leaving this workshop, you should have a firm grasp of the working principles of a variety of loss models for frequency and severity data and be able to explore their use in practical settings. Moreover, you should have acquired the fundamental insights to explore some other methods on your own.</p> 

## Schedule and Course Material

The detailed schedule is subject to small changes. 

| Session | Duration      | Description | Lecture material | R script | 
|:-------:|-----------|-------------|------|------|------|
| Day 0 | your own pace | Prework | [sheets prework](https://katrienantonio.github.io/workshop-ML/sheets/day_1/lecture_sheets_workshop_ML_Day_1.html#prologue) |
| Day 1   | 09.30 - 09.45 | Prologue | | 
|         | 09.45 - 10.20 | Data sets | | 
|         | 10.30 - 11.20 | Frequency models | |
|         | 11.30 - 12.30 | Severity models | |
| Day 2   | 09.30 - 09.30 | Set-up | |[script](https://katrienantonio.github.io/workshop-ML/scripts/day_2/0_setup.R)|
|  | 09.30 - 11.00 | Trees | [sheets trees](https://katrienantonio.github.io/workshop-ML/sheets/day_2/lecture_sheets_workshop_ML_Day_2.html#trees) |[script](https://katrienantonio.github.io/workshop-ML/scripts/day_2/1_decision_tree.R)|[solutions](https://katrienantonio.github.io/workshop-ML/scripts/day_2/1_decision_tree_solutions.R)|
|         | 11.15 - 12.30 | Bagging and random forests | [sheets bagging and random forests](https://katrienantonio.github.io/workshop-ML/sheets/day_2/lecture_sheets_workshop_ML_Day_2.html#bag_rf)|[script](https://katrienantonio.github.io/workshop-ML/scripts/day_2/2_bagging_randomforest.R)|[solutions](https://katrienantonio.github.io/workshop-ML/scripts/day_2/2_bagging_randomforest_solutions.R)|
|         | 13.30 - 15.00 | Gradient boosting machine | [sheets gbm](https://katrienantonio.github.io/workshop-ML/sheets/day_2/lecture_sheets_workshop_ML_Day_2.html#gbm)|[script](https://katrienantonio.github.io/workshop-ML/scripts/day_2/3_gbm_xgboost.R)|[solutions](https://katrienantonio.github.io/workshop-ML/scripts/day_2/3_gbm_xgboost_solutions.R)|
|         | 15.15 - 16.30 | h2o | [sheets h2o](https://katrienantonio.github.io/workshop-ML/sheets/day_2/lecture_sheets_workshop_ML_Day_2.html#h2o)|[script](https://katrienantonio.github.io/workshop-ML/scripts/day_2/4_h2o.R)|[solutions](https://katrienantonio.github.io/workshop-ML/scripts/day_2/4_h2o_solutions.R)|
| Day 3   | 09.30 -  | Neural networks introduction | [sheets intro](https://katrienantonio.github.io/workshop-ML/sheets/day_3/lecture_sheets_workshop_ML_Day_3.html#introduction) |  |
|         | 10.00 - 11.00 | Fundamentals of neural networks | [sheets fundamentals](https://katrienantonio.github.io/workshop-ML/sheets/day_3/lecture_sheets_workshop_ML_Day_3.html#fundamentals)|[script](https://katrienantonio.github.io/workshop-ML/scripts/day_3/Neural networks.R)|[solutions](https://katrienantonio.github.io/workshop-ML/scripts/day_3/Neural networks solutions.R)|
|         | 11.15 - 11.45 | More on fundamentals | [sheets fundamentals](https://katrienantonio.github.io/workshop-ML/sheets/day_3/lecture_sheets_workshop_ML_Day_3.html#fundamentals)| | |
|         | 11.45 - 12.30 | Autoencoders | [sheets autoencoders](https://katrienantonio.github.io/workshop-ML/sheets/day_3/lecture_sheets_workshop_ML_Day_3.html#autoencoder)| | |
|         | 13.30 - 15.00 | CNNs | [sheets CNNs](https://katrienantonio.github.io/workshop-ML/sheets/day_3/lecture_sheets_workshop_ML_Day_3.html#cnn)| | |
|         | 15.15 - 16.30 | Regression | [sheets regression](https://katrienantonio.github.io/workshop-ML/sheets/day_3/lecture_sheets_workshop_ML_Day_3.html#regression)| | |

##### Half-day 1: Loss modelling analytics

Topics include: 

- data sets used in the course: MTPL and SecuraRe losses
- data handling and visualization tools with {ggplot} and {dplyr}
- building frequency models: Poisson, Negative Binomial, ZI and Hurdle, maximum likelihood estimation and goodness-of-fit
- building severity models: simple to complex parametric distributions, splicing to construct a global fit, mixing, estimate a risk measure.

Download lecture sheets in [pdf](). 

##### Half-day 2: Claims reserving analytics

Topics include: 

- 

Download lecture sheets in [pdf](). 

##### Half-day 3: Insurance fraud analytics

Topics include: 


- wrap up.

## After the workshop: want to more know?

An excellent collection of tutorials, books, workshops, events is available via

[http://www.actuarialdatascience.org](http://www.actuarialdatascience.org)

## Prework

<p align="justify">The workshop requires a basic understanding of R. We prepared some prework sheets that you can take a look at before the workshop. Yet another good starting level is the material covered in the [1-Basic](https://github.com/katrienantonio/workshop-R/tree/master/1%20-%20Basic%20R) folder of the [Programming in R](https://github.com/katrienantonio/workshop-R) workshop taught at Nationale Nederlanden in June 2019.</p>

Familiarity with statistical or machine learning methods is *not* required. The workshop gradually builds up these concepts, with an emphasis on hands-on demonstrations and exercises.

## Software Requirements

Please bring a laptop with a recent version of R and RStudio installed. Make sure you can connect your laptop to the internet (or download the course material one day before the start of the workshop). You will need:

- R (at least 3.5.2 <https://cloud.r-project.org/bin/windows/base/> )
- RStudio ( <https://www.rstudio.com/products/rstudio/download/#download> )

You will now go through three steps: (1) installing packages, (2) installing h2o interface and (3) installing keras interface. The instructions are also stored as an R script in the [scripts](https://github.com/katrienantonio/workshop-ML/tree/master/scripts) folder.  

**Step 1**: run the following script in your R session to install the required packages

```{r packages, eval = FALSE}
packages <- c("tidyverse", "here", "gridExtra", "caret", "rsample", "recipes", "grid", "rstudioapi", "MASS", "actuar", "statmodels")
new_packages <- packages[!(packages %in% installed.packages()[,"Package"])]
if(length(new_packages)) install.packages(new_packages)

all_packages <- c()

if(sum(!(all_packages %in% installed.packages()[, "Package"]))) {
  stop(paste('The following required packages are not installed:\n', 
          paste(all_packages[which(!(all_packages %in% installed.packages()[, "Package"]))], collapse = ', ')));
} else {
  message("Everything is set up correctly. You are ready to go.")
}
```


## R Studio Cloud

If you prefer not to work with a local installation of R (and the necessary packages), you can join our workspace on R Studio Cloud dedicated to the workshop is 



After creating an account for RStudio you will be able to work with the scripts and data sets in the cloud. We will have everything set up for you in the correct way. You only have to login!


## Instructors

<img src="img/Katrien.jpg" width="110"/> 

<p align="justify">[Katrien Antonio](https://katrienantonio.github.io/) is professor in insurance data science at KU Leuven and associate professor at University of Amsterdam. She teaches courses on data science for insurance, life and non-life insurance mathematics and loss models. Research-wise Katrien puts focus on pricing, reserving and fraud analytics, as well as mortality dynamics. Katrien will teach Day 1 of the workshop, and serve as TA on Day 2 and 3.</p>

<p align="justify">*Jonas Crevecoeur* is XXX. He holds the degrees of MSc in Mathematics, MSc in Insurance Studies and MSc in Financial and Actuarial Engineering (KU Leuven). Before starting the PhD program he worked as an intern with QBE Re (Belgium office) where he studied multiline products and copulas. Jonas was a PhD fellow of the Research Foundation - Flanders (FWO, PhD fellowship fundamental research).</p> 

Happy learning!

***